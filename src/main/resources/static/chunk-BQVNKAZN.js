import{c as u}from"./chunk-L3CJI6T3.js";import{e as p,f as n,h as g,i as d,k as v}from"./chunk-PBIZFZ4S.js";function f(b,t,o={duration:150,easing:"ease",fill:"both"}){let i=t.getBoundingClientRect(),e=b.getBoundingClientRect(),l=i.left-e.left,r=i.top-e.top,s=i.width/e.width,a=i.height/e.height;b.animate([{transformOrigin:"top left",transform:`translate(${l}px, ${r}px) scale(${s}, ${a})`},{transformOrigin:"top left",transform:"none"}],o)}var _=":host{position:relative;box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:border-box}:host{display:block}.tab-group{display:flex;border:solid 1px transparent;border-radius:0}.tab-group .tab-group__tabs{display:flex;position:relative}.tab-group--has-scroll-controls .tab-group__nav-container{position:relative;padding:0 var(--six-spacing-x-large)}.tab-group__scroll-button{display:flex;align-items:center;justify-content:center;position:absolute;top:0;bottom:0;width:var(--six-spacing-x-large)}.tab-group__scroll-button--left{left:0}.tab-group__scroll-button--right{right:0}.tab-group--top{flex-direction:column}.tab-group--top .tab-group__nav-container{order:1}.tab-group--top .tab-group__nav{display:flex;overflow-x:auto;scrollbar-width:none;-ms-overflow-style:none}.tab-group--top .tab-group__nav::-webkit-scrollbar{width:0;height:0}.tab-group--top .tab-group__tabs{flex:1 1 auto;position:relative;flex-direction:row}.tab-group--top .tab-group__body{order:2}.tab-group--bottom{flex-direction:column}.tab-group--bottom .tab-group__nav-container{order:2}.tab-group--bottom .tab-group__nav{display:flex;overflow-x:auto;scrollbar-width:none;-ms-overflow-style:none}.tab-group--bottom .tab-group__nav::-webkit-scrollbar{width:0;height:0}.tab-group--bottom .tab-group__tabs{flex:1 1 auto;position:relative;flex-direction:row}.tab-group--bottom .tab-group__body{order:1}.tab-group--left{flex-direction:row}.tab-group--left .tab-group__nav-container{order:1}.tab-group--left .tab-group__tabs{flex:0 0 auto;flex-direction:column}.tab-group--left .tab-group__body{flex:1 1 auto;order:2}.tab-group--right{flex-direction:row}.tab-group--right .tab-group__nav-container{order:2}.tab-group--right .tab-group__tabs{flex:0 0 auto;flex-direction:column}.tab-group--right .tab-group__body{flex:1 1 auto;order:1}",m=_,w=(()=>{let b=class{constructor(t){v(this,t),this.sixTabShow=d(this,"six-tab-show",7),this.sixTabHide=d(this,"six-tab-hide",7),this.handleClick=o=>{let e=o.target.closest("six-tab");if(e?.closest("six-tab-group")!==this.host)return!1;e!=null&&this.setActiveTab(e)},this.handleKeyDown=o=>{if(this.nav==null)return;let e=o.target.closest("six-tab");if(e?.closest("six-tab-group")!==this.host)return!1;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(o.key)){let r=document.activeElement;if(r&&r.tagName.toLowerCase()==="six-tab"){let s=this.getAllTabs(),a=s.indexOf(r);o.key==="Home"?a=0:o.key==="End"?a=s.length-1:o.key==="ArrowLeft"?a=Math.max(0,a-1):o.key==="ArrowRight"&&(a=Math.min(s.length-1,a+1)),s[a].setFocus({preventScroll:!0}),this.setActiveTab(s[a]),["top","bottom"].includes(this.placement)&&u(s[a],this.nav,"horizontal"),o.preventDefault()}}},this.handleScrollLeft=()=>{this.nav!=null&&this.nav.scroll({left:this.nav.scrollLeft-this.nav.clientWidth,behavior:"smooth"})},this.handleScrollRight=()=>{this.nav!=null&&this.nav.scroll({left:this.nav.scrollLeft+this.nav.clientWidth,behavior:"smooth"})},this.hasLeftControl=!1,this.hasRightControl=!1,this.placement="top",this.noScrollControls=!1}handleNoScrollControlsChange(){this.updateScrollControls()}componentDidLoad(){if(this.tabGroup==null||this.nav==null)return;new IntersectionObserver((o,i)=>{o[0].intersectionRatio>0&&(this.setAriaLabels(),this.setActiveTab(this.getActiveTab()||this.getAllTabs()[0],!1),i.unobserve(o[0].target))}).observe(this.host),this.resizeObserver=new ResizeObserver(()=>this.updateScrollControls()),this.resizeObserver.observe(this.nav),requestAnimationFrame(()=>this.updateScrollControls()),this.nav.addEventListener("scroll",()=>{this.nav!=null&&(this.hasRightControl=this.calculateRightControlVisibility(),this.hasLeftControl=this.calculateLeftControlVisibility())}),this.mutationObserver=new MutationObserver(o=>{o.some(i=>{var e;return!["aria-labelledby","aria-controls"].includes((e=i.attributeName)!==null&&e!==void 0?e:"")})&&setTimeout(()=>this.setAriaLabels())}),this.mutationObserver.observe(this.host,{attributes:!0,childList:!0,subtree:!0})}disconnectedCallback(){this.mutationObserver==null||this.tabGroup==null||this.nav==null||this.resizeObserver==null||(this.mutationObserver.disconnect(),this.resizeObserver.unobserve(this.nav))}show(t){return p(this,null,function*(){let i=this.getAllTabs().find(e=>e.panel===t);i!=null&&this.setActiveTab(i)})}getAllTabs(t=!1){var o;let i=(o=this.tabs)===null||o===void 0?void 0:o.querySelector("slot");return i==null?[]:[...i.assignedElements()].filter(e=>t?e.tagName.toLowerCase()==="six-tab":e.tagName.toLowerCase()==="six-tab"&&!e.disabled)}getAllPanels(){var t;let o=(t=this.body)===null||t===void 0?void 0:t.querySelector("slot");return o==null?[]:[...o.assignedElements()].filter(i=>i.tagName.toLowerCase()==="six-tab-panel")}getActiveTab(){return this.getAllTabs().find(t=>t.active)}calculateRightControlVisibility(){var t,o,i;return this.nav==null?!1:Math.abs((t=this.nav)===null||t===void 0?void 0:t.scrollLeft)+((o=this.nav)===null||o===void 0?void 0:o.clientWidth)<((i=this.nav)===null||i===void 0?void 0:i.scrollWidth)-1}calculateLeftControlVisibility(){var t;return this.nav==null?!1:Math.abs((t=this.nav)===null||t===void 0?void 0:t.scrollLeft)>0}updateScrollControls(){this.nav!=null&&(this.hasRightControl=this.noScrollControls?!1:["top","bottom"].includes(this.placement)&&this.calculateRightControlVisibility(),this.hasLeftControl=this.noScrollControls?!1:["top","bottom"].includes(this.placement)&&this.calculateLeftControlVisibility())}setActiveTab(t,o=!0){var i,e,l;if(this.nav==null)return;let r=(i=t?.shadowRoot)===null||i===void 0?void 0:i.querySelector(".tab__indicator"),s=(l=(e=this.getActiveTab())===null||e===void 0?void 0:e.shadowRoot)===null||l===void 0?void 0:l.querySelector(".tab__indicator");if(s!=null&&r!=null&&f(r,s),t!==this.activeTab&&!t.disabled){let a=this.activeTab;this.activeTab=t,this.getAllTabs().map(c=>c.active=c===this.activeTab),this.getAllPanels().map(c=>{var h;return c.active=c.name===((h=this.activeTab)===null||h===void 0?void 0:h.panel)}),["top","bottom"].includes(this.placement)&&u(this.activeTab,this.nav,"horizontal"),o&&(a!=null&&this.sixTabHide.emit({name:a.panel}),this.sixTabShow.emit({name:this.activeTab.panel}))}}setAriaLabels(){let t=this.getAllTabs(),o=this.getAllPanels();t.map(i=>{var e,l;let r=o.find(s=>s.name===i.panel);r!=null&&(i.setAttribute("aria-controls",(e=r.getAttribute("id"))!==null&&e!==void 0?e:""),r.setAttribute("aria-labelledby",(l=i.getAttribute("id"))!==null&&l!==void 0?l:""))})}render(){return n("div",{key:"9752b81f3babdcbe656cc5552b7c07c7cc096d8d",part:"base",ref:t=>this.tabGroup=t,class:{"tab-group":!0,"tab-group--top":this.placement==="top","tab-group--bottom":this.placement==="bottom","tab-group--left":this.placement==="left","tab-group--right":this.placement==="right","tab-group--has-scroll-controls":this.hasRightControl||this.hasLeftControl},onClick:this.handleClick,onKeyDown:this.handleKeyDown},n("div",{key:"d96c9094ddc1a9cd6ad9ac9c5ab559ac703ccd6e",class:"tab-group__nav-container"},this.hasLeftControl&&n("six-icon-button",{class:"tab-group__scroll-button tab-group__scroll-button--left",exportparts:"base:scroll-button",name:"chevron_left",onClick:this.handleScrollLeft}),n("div",{ref:t=>this.nav=t,key:"nav",part:"nav",class:"tab-group__nav"},n("div",{key:"288b14b0bbc790f1ae54e2a26693e9b103002715",ref:t=>this.tabs=t,part:"tabs",class:"tab-group__tabs",role:"tablist"},n("slot",{key:"249ef2f5d67dd3abf35b07028c9d2fe3798ef1ea",name:"nav"}))),this.hasRightControl&&n("six-icon-button",{class:"tab-group__scroll-button tab-group__scroll-button--right",exportparts:"base:scroll-button",name:"chevron_right",onClick:this.handleScrollRight})),n("div",{key:"3aa5553829dfefb71bfb725db55db8dc204f93dc",ref:t=>this.body=t,part:"body",class:"tab-group__body"},n("slot",{key:"8d96ff43d62b33d77bea3616ea5ac76ad6b99a76"})))}get host(){return g(this)}static get watchers(){return{noScrollControls:["handleNoScrollControlsChange"]}}};return b.style=m,b})();export{w as six_tab_group};
